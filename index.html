<!doctype html>
<html lang="tr" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#f6f7ff" />

  <title>GeoBox — Web Tabanlı CBS Platformu</title>
  <meta name="description" content="GeoBox ile belediyeler, altyapı işletmeleri ve mühendislik ekipleri için modern, hızlı ve güvenli web tabanlı CBS. Katmanlar, sorgu, analiz, saha senkronizasyonu ve daha fazlası." />

  <style>
    :root{
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      --radius:18px;
      --radius2:26px;
      --max:1160px;

      --a:#1bb7ff;
      --b:#6c5cff;
      --c:#21d39b;
    }

    html[data-theme="light"]{
      --bg:#f6f7ff;
      --panel:#ffffff;
      --panel2:#f2f4ff;
      --text:#0b1020;
      --muted:rgba(11,16,32,.72);
      --muted2:rgba(11,16,32,.62);
      --line:rgba(11,16,32,.12);
      --shadow:0 18px 50px rgba(11,16,32,.10);
    }

    html[data-theme="dark"]{
      --bg:#070a14;
      --panel:#0b1020;
      --panel2:#0f1733;
      --text:#eef3ff;
      --muted:rgba(233,243,255,.80);
      --muted2:rgba(233,243,255,.66);
      --line:rgba(255,255,255,.12);
      --shadow:0 18px 50px rgba(0,0,0,.35);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--text);
      font-family:var(--sans);
      line-height:1.45;
      background:
        radial-gradient(1200px 800px at 15% 5%, rgba(108,92,255,.12), transparent 60%),
        radial-gradient(900px 700px at 80% 20%, rgba(27,183,255,.10), transparent 60%),
        radial-gradient(800px 600px at 60% 85%, rgba(33,211,155,.10), transparent 55%),
        linear-gradient(180deg, var(--bg), var(--panel2) 55%, var(--bg));
    }

    a{color:inherit; text-decoration:none}
    .wrap{max-width:var(--max); margin:0 auto; padding:0 22px}

    .topbar{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(10px);
      background: color-mix(in oklab, var(--panel) 70%, transparent);
      border-bottom:1px solid var(--line);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 0;
      gap:14px;
    }

    /* ✅ LOGO BÜYÜTÜLDÜ */
    .brand{
      display:flex; align-items:center; gap:12px;
      min-width: 220px;
    }
    .brandLogo{
      width:52px; height:52px;                 /* büyütüldü */
      border-radius:16px;
      border:1px solid var(--line);
      background: color-mix(in oklab, var(--panel) 85%, transparent);
      padding:6px;                               /* padding azaltıldı */
      display:flex; align-items:center; justify-content:center;
      box-shadow: 0 14px 40px rgba(0,0,0,.10);
      overflow:hidden;
    }
    .brandLogo img{
      width:100%;
      height:100%;
      display:block;
      object-fit:contain;                        /* taşmadan dolu görünüm */
      transform: scale(1.06);                    /* hafif büyütme */
    }
    .brand b{font-size:15px; letter-spacing:.2px}
    .brand small{display:block; color:var(--muted2); font-size:11px; margin-top:2px}

    .menu{
      display:flex; gap:10px; flex-wrap:wrap;
      align-items:center; justify-content:center;
    }
    .menu a{
      font-size:13px;
      color:color-mix(in oklab, var(--text) 85%, transparent);
      padding:8px 10px;
      border-radius:12px;
      border:1px solid transparent;
    }
    .menu a:hover{
      border-color:var(--line);
      background: color-mix(in oklab, var(--panel2) 65%, transparent);
    }

    .actions{
      display:flex; gap:10px; align-items:center; justify-content:flex-end;
      min-width: 220px;
    }

    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      gap:8px;
      padding:10px 12px;
      font-size:13px;
      border-radius:14px;
      border:1px solid var(--line);
      background: color-mix(in oklab, var(--panel2) 55%, transparent);
      cursor:pointer;
      user-select:none;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
      white-space:nowrap;
      color:inherit;
    }
    .btn:hover{
      transform: translateY(-1px);
      background: color-mix(in oklab, var(--panel2) 75%, transparent);
      border-color: color-mix(in oklab, var(--line) 120%, transparent);
    }
    .btn.primary{
      border-color: color-mix(in oklab, var(--a) 35%, var(--line));
      background: linear-gradient(135deg,
        color-mix(in oklab, var(--a) 22%, transparent),
        color-mix(in oklab, var(--b) 16%, transparent));
    }
    .btn.primary:hover{border-color: color-mix(in oklab, var(--a) 55%, var(--line))}
    .btn.whatsapp{
      border-color: color-mix(in oklab, var(--c) 38%, var(--line));
      background: linear-gradient(135deg,
        color-mix(in oklab, var(--c) 20%, transparent),
        color-mix(in oklab, var(--a) 10%, transparent));
    }

    .kbd{
      font-family:var(--mono);
      font-size:11px;
      padding:2px 6px;
      border-radius:8px;
      border:1px solid var(--line);
      background: color-mix(in oklab, var(--panel2) 60%, transparent);
      color:color-mix(in oklab, var(--text) 85%, transparent);
    }

    .hamburger{
      display:none;
      width:42px; height:40px;
      border-radius:14px;
      border:1px solid var(--line);
      background: color-mix(in oklab, var(--panel2) 55%, transparent);
      align-items:center; justify-content:center;
      cursor:pointer;
    }
    .hamburger i{
      width:18px; height:2px; background: color-mix(in oklab, var(--text) 75%, transparent);
      display:block; position:relative; border-radius:99px;
    }
    .hamburger i::before,.hamburger i::after{
      content:""; position:absolute; left:0;
      width:18px; height:2px; background: color-mix(in oklab, var(--text) 75%, transparent);
      border-radius:99px;
    }
    .hamburger i::before{top:-6px}
    .hamburger i::after{top:6px}

    .mobileMenu{
      display:none;
      padding:12px 0 16px;
      border-top:1px solid var(--line);
    }
    .mobileMenu a{
      display:block;
      padding:12px 10px;
      border-radius:14px;
      border:1px solid var(--line);
      background: color-mix(in oklab, var(--panel2) 55%, transparent);
      margin-top:10px;
      color:color-mix(in oklab, var(--text) 85%, transparent);
    }
    .mobileMenu a:hover{background: color-mix(in oklab, var(--panel2) 75%, transparent)}

    header.hero{padding:56px 0 26px}
    .heroGrid{display:grid; grid-template-columns: 1.1fr .9fr; gap:22px; align-items:stretch;}

    .card{
      border:1px solid var(--line);
      border-radius:var(--radius2);
      background: linear-gradient(180deg,
        color-mix(in oklab, var(--panel) 95%, transparent),
        color-mix(in oklab, var(--panel2) 85%, transparent));
      box-shadow: var(--shadow);
    }

    .heroLeft{padding:28px}
    .tagline{
      display:inline-flex; align-items:center; gap:10px;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid var(--line);
      background: color-mix(in oklab, var(--panel2) 55%, transparent);
      color:color-mix(in oklab, var(--text) 85%, transparent);
      font-size:12px;
      margin-bottom:16px;
    }
    .dot{
      width:8px; height:8px; border-radius:99px;
      background: radial-gradient(circle at 30% 30%, var(--a), var(--b));
      box-shadow: 0 0 18px color-mix(in oklab, var(--a) 30%, transparent);
    }
    h1{
      margin:0 0 12px;
      font-size:42px;
      letter-spacing:-.6px;
      line-height:1.06;
    }
    .lead{
      margin:0 0 18px;
      color:color-mix(in oklab, var(--text) 80%, transparent);
      font-size:15px;
      max-width: 62ch;
    }
    .fine{font-size:12px; color:var(--muted2)}

    .heroBullets{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      margin-top:16px;
    }
    .pill{
      display:flex; gap:10px; align-items:flex-start;
      padding:10px 12px;
      border-radius:16px;
      border:1px solid var(--line);
      background: color-mix(in oklab, var(--panel2) 55%, transparent);
    }
    .pill i{
      width:10px; height:10px; border-radius:99px;
      margin-top:4px;
      background: radial-gradient(circle at 30% 30%, var(--c), var(--a));
      box-shadow: 0 0 18px color-mix(in oklab, var(--c) 30%, transparent);
      flex:0 0 auto;
    }
    .pill b{display:block; font-size:13px}
    .pill span{display:block; font-size:12px; color:var(--muted2); margin-top:2px}

    .heroRight{padding:18px}
    .demoFrame{
      border-radius:22px;
      border:1px solid var(--line);
      overflow:hidden;
      background: linear-gradient(180deg,
        color-mix(in oklab, var(--panel) 95%, transparent),
        color-mix(in oklab, var(--panel2) 85%, transparent));
    }
    .demoTop{
      display:flex; align-items:center; justify-content:space-between;
      padding:10px 12px;
      border-bottom:1px solid var(--line);
      color:var(--muted);
      font-size:12px;
    }
    .dots{display:flex; gap:6px; align-items:center}
    .dots span{
      width:10px; height:10px; border-radius:99px;
      background: color-mix(in oklab, var(--text) 12%, transparent);
      border:1px solid var(--line);
    }
    .demoBody{padding:12px}

    .miniMap{
      height:280px;
      border-radius:18px;
      border:1px solid var(--line);
      background:
        radial-gradient(400px 240px at 30% 35%, rgba(27,183,255,.16), transparent 60%),
        radial-gradient(420px 260px at 70% 45%, rgba(108,92,255,.14), transparent 60%),
        radial-gradient(520px 320px at 45% 78%, rgba(33,211,155,.12), transparent 60%),
        linear-gradient(180deg, color-mix(in oklab, var(--panel2) 50%, transparent),
                               color-mix(in oklab, var(--panel) 40%, transparent));
      position:relative;
      overflow:hidden;
    }
    .gridlines{
      position:absolute; inset:-40px;
      background-image:
        linear-gradient(color-mix(in oklab, var(--text) 10%, transparent) 1px, transparent 1px),
        linear-gradient(90deg, color-mix(in oklab, var(--text) 10%, transparent) 1px, transparent 1px);
      background-size: 44px 44px;
      transform: rotate(8deg);
      opacity:.40;
      pointer-events:none;
    }
    .pin{
      position:absolute;
      width:14px; height:14px;
      border-radius:99px;
      transform: translate(-50%,-50%);
      border:1px solid var(--line);
      background: radial-gradient(circle at 30% 30%, var(--a), var(--b));
      box-shadow: 0 12px 30px rgba(27,183,255,.18);
    }
    .pin::after{
      content:"";
      position:absolute;
      inset:-12px;
      border-radius:99px;
      border:1px solid rgba(27,183,255,.20);
      opacity:.65;
    }
    .mapHud{
      position:absolute; left:10px; top:10px;
      display:flex; gap:8px; align-items:center;
      padding:8px 10px;
      border-radius:14px;
      border:1px solid var(--line);
      background: color-mix(in oklab, var(--panel) 85%, transparent);
      color:color-mix(in oklab, var(--text) 85%, transparent);
      font-size:12px;
      backdrop-filter: blur(8px);
    }
    .mapHud .badge{
      padding:2px 8px;
      border-radius:999px;
      border:1px solid var(--line);
      background: color-mix(in oklab, var(--panel2) 60%, transparent);
      font-size:11px;
      color:color-mix(in oklab, var(--text) 80%, transparent);
    }

    section{padding:42px 0}
    .sectionHead{
      display:flex; align-items:flex-end; justify-content:space-between;
      gap:16px; margin-bottom:16px;
    }
    h2{margin:0; font-size:26px; letter-spacing:-.3px}
    .sub{margin:0; color:var(--muted2); font-size:13px; max-width:78ch}

    .grid2{
      display:grid; gap:14px;
      grid-template-columns: 1fr 1fr;
    }
    .grid3{
      display:grid; gap:14px;
      grid-template-columns: repeat(3, 1fr);
    }

    .panel{
      padding:16px;
      border-radius:var(--radius2);
      border:1px solid var(--line);
      background: linear-gradient(180deg,
        color-mix(in oklab, var(--panel) 95%, transparent),
        color-mix(in oklab, var(--panel2) 85%, transparent));
      box-shadow: var(--shadow);
    }
    .panel h3{margin:0 0 10px; font-size:16px}
    .panel p{margin:0 0 12px; color:color-mix(in oklab, var(--text) 78%, transparent); font-size:13px}

    /* ✅ Yeni: yöneticiye anlatım kartları */
    .bigFeature{
      padding:18px;
      border-radius:var(--radius2);
      border:1px solid var(--line);
      background: linear-gradient(180deg,
        color-mix(in oklab, var(--panel) 95%, transparent),
        color-mix(in oklab, var(--panel2) 85%, transparent));
      box-shadow: var(--shadow);
    }
    .bigFeature .head{
      display:flex; gap:12px; align-items:flex-start;
      margin-bottom:10px;
    }
    .bfIcon{
      width:44px; height:44px;
      border-radius:16px;
      border:1px solid var(--line);
      background: linear-gradient(135deg, rgba(27,183,255,.12), rgba(108,92,255,.10));
      display:flex; align-items:center; justify-content:center;
      font-family: var(--mono);
      font-size: 12px;
      color: color-mix(in oklab, var(--text) 80%, transparent);
      flex:0 0 auto;
    }
    .bigFeature b{display:block; font-size:15px; margin-top:2px}
    .bigFeature .desc{color:color-mix(in oklab, var(--text) 78%, transparent); font-size:13px; margin:0}
    .bfList{margin:12px 0 0; padding-left:16px; color:var(--muted2); font-size:13px}
    .bfList li{margin:6px 0}
    .bfNote{
      margin-top:12px;
      padding:10px 12px;
      border-radius:16px;
      border:1px solid var(--line);
      background: color-mix(in oklab, var(--panel2) 55%, transparent);
      color:color-mix(in oklab, var(--text) 74%, transparent);
      font-size:12px;
    }

    .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
    .field{
      flex:1 1 220px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid var(--line);
      background: color-mix(in oklab, var(--panel2) 55%, transparent);
      color:color-mix(in oklab, var(--text) 85%, transparent);
      outline:none;
    }
    .field::placeholder{color:var(--muted2)}

    .switches{display:grid; gap:10px; margin-top:12px}
    .switch{
      display:flex; align-items:center; justify-content:space-between;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid var(--line);
      background: color-mix(in oklab, var(--panel2) 55%, transparent);
    }
    .switch b{font-size:13px}
    .switch span{font-size:12px; color:var(--muted2)}
    .toggle{
      width:44px; height:26px;
      border-radius:999px;
      border:1px solid var(--line);
      background: color-mix(in oklab, var(--panel) 80%, transparent);
      position:relative;
      cursor:pointer;
      flex:0 0 auto;
    }
    .toggle::after{
      content:"";
      position:absolute;
      width:20px; height:20px;
      border-radius:99px;
      left:3px; top:2px;
      background: color-mix(in oklab, var(--text) 80%, transparent);
      box-shadow: 0 10px 20px rgba(0,0,0,.18);
      transition: transform .18s ease;
    }
    .toggle.on{
      background: linear-gradient(135deg, rgba(27,183,255,.22), rgba(108,92,255,.16));
      border-color: color-mix(in oklab, var(--a) 30%, var(--line));
    }
    .toggle.on::after{transform: translateX(18px)}

    .log{
      margin-top:12px;
      border-radius:18px;
      border:1px solid var(--line);
      background: color-mix(in oklab, var(--panel) 85%, transparent);
      padding:12px;
      font-family:var(--mono);
      font-size:12px;
      color:color-mix(in oklab, var(--text) 80%, transparent);
      height: 160px;
      overflow:auto;
      white-space:pre-wrap;
    }

    .demoSection{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:14px;
      align-items:stretch;
    }

    .cta{
      padding:26px;
      border-radius:var(--radius2);
      border:1px solid var(--line);
      background:
        radial-gradient(600px 280px at 20% 40%, rgba(27,183,255,.14), transparent 60%),
        radial-gradient(640px 300px at 85% 55%, rgba(108,92,255,.12), transparent 60%),
        linear-gradient(180deg, color-mix(in oklab, var(--panel) 95%, transparent),
                               color-mix(in oklab, var(--panel2) 85%, transparent));
      box-shadow: var(--shadow);
      display:flex;
      gap:16px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .cta b{font-size:18px}
    .cta p{margin:6px 0 0; color:color-mix(in oklab, var(--text) 78%, transparent); font-size:13px; max-width:70ch}

    footer{
      padding:26px 0 42px;
      border-top:1px solid var(--line);
      background: color-mix(in oklab, var(--panel2) 35%, transparent);
    }
    .links{display:flex; gap:12px; flex-wrap:wrap; justify-content:flex-end}
    .links a{
      font-size:12px;
      color:color-mix(in oklab, var(--text) 70%, transparent);
      padding:6px 8px;
      border-radius:12px;
      border:1px solid transparent
    }
    .links a:hover{
      border-color:var(--line);
      background: color-mix(in oklab, var(--panel2) 65%, transparent);
    }

    @media (max-width: 980px){
      h1{font-size:36px}
      .heroGrid{grid-template-columns: 1fr}
      .demoSection{grid-template-columns: 1fr}
      .grid3{grid-template-columns: 1fr}
      .grid2{grid-template-columns: 1fr}
      .actions{min-width: unset}
      .brand{min-width: unset}
    }
    @media (max-width: 760px){
      .wrap{padding:0 16px}
      header.hero{padding:44px 0 18px}
      section{padding:34px 0}
      h1{font-size:32px}
      .heroLeft{padding:20px}
      .heroRight{padding:14px}
      .heroBullets{grid-template-columns: 1fr}
      .sectionHead{flex-direction:column; align-items:flex-start}

      .menu{display:none}
      .hamburger{display:inline-flex}
      .actions{gap:8px; flex-wrap:wrap}

      /* mobilde logo çok büyümesin */
      .brandLogo{width:46px; height:46px}
    }
  </style>
</head>

<body>
  <div class="topbar" id="topbar">
    <div class="wrap">
      <div class="nav">
        <a class="brand" href="#top" aria-label="GeoBox ana sayfa">
          <div class="brandLogo" aria-hidden="true">
            <img src="geobox-logo.png" alt="GeoBox Logo" />
          </div>
          <div>
            <b>GeoBox</b>
            <small>Web Tabanlı CBS Platformu</small>
          </div>
        </a>

        <nav class="menu" aria-label="Site menüsü">
          <a href="#ozellikler">Özellikler</a>
          <a href="#demo">Canlı Demo</a>
          <a href="#iletisim">İletişim</a>
        </nav>

        <div class="actions">
          <button class="btn" id="btnTheme" title="Tema modunu değiştir">Tema</button>
          <a class="btn primary" href="#iletisim">Demo iste</a>
          <button class="hamburger" id="btnMenu" aria-label="Menüyü aç/kapat"><i></i></button>
        </div>
      </div>

      <div class="mobileMenu" id="mobileMenu" aria-label="Mobil menü">
        <a href="#ozellikler">Özellikler</a>
        <a href="#demo">Canlı Demo</a>
        <a href="#iletisim">İletişim</a>
      </div>
    </div>
  </div>

  <header class="hero wrap" id="top">
    <div class="heroGrid">
      <div class="card heroLeft">
        <div class="tagline">
          <span class="dot" aria-hidden="true"></span>
          <span>Kurumsal CBS • Saha senkronizasyonu • Analiz • Entegrasyon</span>
          <span class="kbd">v1</span>
        </div>

        <h1>GeoBox ile CBS’yi<br/>tek ekranda <span style="color:var(--a)">yönetin</span>.</h1>
        <p class="lead">
          GeoBox; belediye, altyapı işletmesi veya mühendislik firmasında “harita + veri + süreç” işini tek platformda birleştirir.
          Yani sadece harita göstermez — <b>işi yönetir</b>.
        </p>

        <div class="row">
          <a class="btn primary" href="#ozellikler">Özellikleri gör</a>
          <a class="btn" href="#demo">Demo’yu dene</a>
          <span class="fine">Cloudflare + GitHub ile düşük maliyetli yayın</span>
        </div>

        <div class="heroBullets" aria-label="Öne çıkanlar">
          <div class="pill"><i aria-hidden="true"></i><div><b>Tek ekran yönetim</b><span>Katman, arama, rapor, iş emri.</span></div></div>
          <div class="pill"><i aria-hidden="true"></i><div><b>Saha-ofis senkron</b><span>Ekip sahada girer, ofis anında görür.</span></div></div>
          <div class="pill"><i aria-hidden="true"></i><div><b>Kurumsal kontrol</b><span>Yetki, kayıt geçmişi, denetim izi.</span></div></div>
          <div class="pill"><i aria-hidden="true"></i><div><b>Karar destek</b><span>Veriden anlam: analiz, öncelik, rapor.</span></div></div>
        </div>
      </div>

      <div class="card heroRight">
        <div class="demoFrame">
          <div class="demoTop">
            <div class="dots" aria-hidden="true"><span></span><span></span><span></span></div>
            <div>GeoBox Showcase (simülasyon)</div>
            <div class="fine">statik demo • hızlı</div>
          </div>

          <div class="demoBody">
            <div class="miniMap" id="miniMap" role="img" aria-label="Harita simülasyonu">
              <div class="gridlines"></div>
              <div class="mapHud">
                <b id="hudTitle">Katmanlar: Açık</b>
                <span class="badge" id="hudBadge">Sorgu: Hazır</span>
              </div>

              <div class="pin" style="left:28%; top:38%"></div>
              <div class="pin" style="left:62%; top:44%"></div>
              <div class="pin" style="left:45%; top:72%"></div>
            </div>

            <div style="display:flex; gap:10px; margin-top:12px; flex-wrap:wrap;">
              <button class="btn" id="btnFly">Uç (zoom)</button>
              <button class="btn" id="btnMeasure">Ölç</button>
              <button class="btn" id="btnExport">Dışa aktar</button>
              <button class="btn primary" id="btnScenario">Senaryo çalıştır</button>
            </div>

            <div class="fine" style="margin-top:10px;">
              Bu bölüm etkileşimli bir vitrin. Gerçek projede MapLibre/Leaflet + servisler ile canlılaştırılır.
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- ✅ ÖZELLİKLER (YÖNETİCİ DİLİYLE GENİŞLETİLDİ) -->
  <section id="ozellikler">
    <div class="wrap">
      <div class="sectionHead">
        <div>
          <h2>GeoBox ile kurulan CBS ne demek?</h2>
          <p class="sub">
            Basit anlatım: CBS; kurumun “sahadaki varlıklarını” (hat, vana, yol, parsel, abone, mezar, arıza, iş emri…)
            harita üzerinde gösterir ve bu varlıklar hakkında <b>arama, sorgu, güncelleme, rapor ve süreç yönetimi</b> yaptırır.
            GeoBox ise bunu web üzerinden, yetkili kullanıcılarla, ölçülebilir iş çıktısına dönüştürür.
          </p>
        </div>
        <div class="fine">Hedef: netlik + hız + kontrol</div>
      </div>

      <div class="grid2">
        <div class="bigFeature">
          <div class="head">
            <div class="bfIcon">CBS?</div>
            <div>
              <b>“Harita” değil, kurum hafızası</b>
              <p class="desc">
                Excel/klasör/kişide kalan bilgi kaybolur. CBS’de bilgi standart ve canlıdır:
                kim ekledi, ne zaman güncelledi, geçmişte ne vardı… hepsi kayıt altındadır.
              </p>
            </div>
          </div>
          <ul class="bfList">
            <li><b>Arama:</b> “Vana 14”, “Parsel 123”, “Arıza kaydı” gibi saniyeler içinde bulunur.</li>
            <li><b>Görsel doğrulama:</b> Katmanlar üst üste açılır (altyapı + imar + parsel gibi).</li>
            <li><b>Tek doğru kaynak:</b> Aynı veri herkes için aynı yerde durur.</li>
          </ul>
          <div class="bfNote">
            Yönetici faydası: Personel değişse bile bilgi kurumda kalır. Sahadaki işin “şeffaf” takibi oluşur.
          </div>
        </div>

        <div class="bigFeature">
          <div class="head">
            <div class="bfIcon">NEDEN</div>
            <div>
              <b>GeoBox’ın farkı: işi sonuçlandırır</b>
              <p class="desc">
                GeoBox sadece göstermez; saha verisini toplar, süreç başlatır, rapor üretir, yetki verir ve entegre olur.
                Yani “harita ekranı” değil, <b>operasyon ekranı</b>.
              </p>
            </div>
          </div>
          <ul class="bfList">
            <li><b>Saha→Ofis:</b> Ekip sahada ekler, ofis anında görür (foto/form dahil).</li>
            <li><b>İş emri:</b> Arıza kaydı açılır, sorumlu atanır, kapanış raporu alınır.</li>
            <li><b>Rapor:</b> “Bu ay kaç arıza?” “Hangi mahallede yoğun?” gibi çıktılar.</li>
          </ul>
          <div class="bfNote">
            Yönetici faydası: Zaman kaybı azalır, kararlar veriye dayanır, hizmet kalitesi artar.
          </div>
        </div>
      </div>

      <div style="height:14px"></div>

      <div class="sectionHead">
        <div>
          <h2>Özellik seti: herkesin anlayacağı dille</h2>
          <p class="sub">
            Aşağıdaki başlıklar, bir başkanın veya genel müdürün “Bu sistem bana ne kazandırır?” sorusuna cevap verir.
          </p>
        </div>
      </div>

      <div class="grid3">
        <div class="bigFeature">
          <div class="head">
            <div class="bfIcon">MAP</div>
            <div>
              <b>Harita & Katman Yönetimi</b>
              <p class="desc">Kurum verileri katman katman açılır; ihtiyaç duyduğun katmanı gösterir, diğerlerini kapatırsın.</p>
            </div>
          </div>
          <ul class="bfList">
            <li>Hat/ekipman/parsel/imar gibi katmanları birlikte görme</li>
            <li>Katmana tıklayınca “kart” gibi detay ekranı (adres, tip, tarih, not…)</li>
            <li>Filtre: “Sadece bu mahalledeki vanalar” gibi</li>
          </ul>
          <div class="bfNote">Örnek: “Şu sokakta altyapı var mı?” sorusu 10 saniyede cevaplanır.</div>
        </div>

        <div class="bigFeature">
          <div class="head">
            <div class="bfIcon">DATA</div>
            <div>
              <b>Veri Girişi ve Güncelleme</b>
              <p class="desc">Veri sadece “bakan kişide” kalmaz. Yetkili kullanıcılar doğru şekilde girer ve günceller.</p>
            </div>
          </div>
          <ul class="bfList">
            <li>Formlar: standart alanlar (tip, durum, tarih, açıklama)</li>
            <li>Foto/ek dosya ekleme</li>
            <li>Değişiklik geçmişi (kim, neyi, ne zaman değiştirdi)</li>
          </ul>
          <div class="bfNote">Örnek: “Hangi ekipman ne zaman bakım gördü?” takip edilir.</div>
        </div>

        <div class="bigFeature">
          <div class="head">
            <div class="bfIcon">FIELD</div>
            <div>
              <b>Saha Operasyonları</b>
              <p class="desc">Saha ekipleri telefonda konuşmak yerine uygulama üzerinden kayıt açar; ofis anında görür.</p>
            </div>
          </div>
          <ul class="bfList">
            <li>Offline çalışma (internet yokken kayıt al, sonra gönder)</li>
            <li>Konumla kayıt: “tam buradayım” diyerek nokta/hat/poligon</li>
            <li>Görev/iş emri listesi</li>
          </ul>
          <div class="bfNote">Örnek: “Arıza bildirimi → ekip yönlendirme → kapanış raporu” tek akış.</div>
        </div>

        <div class="bigFeature">
          <div class="head">
            <div class="bfIcon">FLOW</div>
            <div>
              <b>İş Akışı & İş Emri</b>
              <p class="desc">Kayıt açılır, sorumlu atanır, durum güncellenir, iş kapanınca raporlanır.</p>
            </div>
          </div>
          <ul class="bfList">
            <li>Durumlar: Açık / İşlemde / Beklemede / Kapalı</li>
            <li>Sorumlu/ekip atama ve zaman takibi</li>
            <li>Standart kapanış: foto + not + ölçüm/tespit</li>
          </ul>
          <div class="bfNote">Örnek: “Vatandaş talebi” veya “kaçak şüphesi” süreç yönetimi.</div>
        </div>

        <div class="bigFeature">
          <div class="head">
            <div class="bfIcon">REP</div>
            <div>
              <b>Rapor & Yönetim Paneli</b>
              <p class="desc">Yönetici, haftalık/aylık performansı tablo ve harita ile görür.</p>
            </div>
          </div>
          <ul class="bfList">
            <li>Sayım: kaç kayıt, kaç arıza, kaç iş emri kapandı</li>
            <li>Yoğunluk: hangi mahallede yoğun</li>
            <li>Çıktı: PDF/Excel gibi paylaşılan rapor</li>
          </ul>
          <div class="bfNote">Örnek: “En çok arıza çıkan bölgeler” önceliklendirilir.</div>
        </div>

        <div class="bigFeature">
          <div class="head">
            <div class="bfIcon">SEC</div>
            <div>
              <b>Yetki, Güvenlik ve Denetim</b>
              <p class="desc">Herkes her şeyi görmesin: rol bazlı kontrol ve kayıt altına alma.</p>
            </div>
          </div>
          <ul class="bfList">
            <li>Rol bazlı yetki (izle / düzenle / yönet)</li>
            <li>Katman bazlı görünürlük</li>
            <li>Audit: kim neyi değiştirdi</li>
          </ul>
          <div class="bfNote">Örnek: “Yanlış veri girildi” durumunda geri izlenebilirlik.</div>
        </div>
      </div>
    </div>
  </section>

  <section id="demo">
    <div class="wrap">
      <div class="sectionHead">
        <div>
          <h2>Canlı vitrin: GeoBox davranışlarını deneyin</h2>
          <p class="sub">Bu panel temel işleri simüle eder: katman, arama, filtre, ölçüm, çıktı.</p>
        </div>
        <div class="fine">Kısayol: <span class="kbd">/</span> ile arama</div>
      </div>

      <div class="demoSection">
        <div class="panel">
          <h3>Hızlı arama & öznitelik filtre</h3>
          <p>Örn: “parsel 123”, “vana”, “abone”, “mezar 4 ada”. (Simülasyon)</p>

          <div class="row">
            <input class="field" id="search" placeholder="Ara: parsel, vana, hat, abone..." autocomplete="off" />
            <button class="btn primary" id="btnSearch">Ara</button>
          </div>

          <div class="switches" style="margin-top:14px;">
            <div class="switch"><div><b>Doğalgaz Hatları</b><span>Polyline • işletme katmanı</span></div><div class="toggle on" data-layer="gas"></div></div>
            <div class="switch"><div><b>Vana & Ekipman</b><span>Point • bakım/saha</span></div><div class="toggle on" data-layer="valve"></div></div>
            <div class="switch"><div><b>Parsel & İmar</b><span>Polygon • mülkiyet</span></div><div class="toggle on" data-layer="parcel"></div></div>
            <div class="switch"><div><b>Arıza / İş Emri</b><span>Event • operasyon</span></div><div class="toggle" data-layer="work"></div></div>
          </div>

          <div class="log" id="log" aria-label="İşlem günlüğü"></div>
        </div>

        <div class="panel">
          <h3>Mini senaryo</h3>
          <p>Bir CBS’yi “gösterişli” yapan şey: tıklayınca iş üreten akışlar.</p>

          <div class="row" style="margin-top:14px;">
            <button class="btn" id="btnFly">Uç (zoom)</button>
            <button class="btn" id="btnMeasure">Ölç</button>
            <button class="btn" id="btnExport">Dışa aktar</button>
            <button class="btn primary" id="btnScenario">Senaryo çalıştır</button>
            <button class="btn primary" id="btnReset">Demoyu sıfırla</button>
            <button class="btn" id="btnCopy">Log’u kopyala</button>
          </div>

          <div class="fine" style="margin-top:10px;">
            İstersen bir sonraki adımda bu vitrine gerçek veri + gerçek harita (vector tiles) entegre ederiz.
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="iletisim">
    <div class="wrap">
      <div class="cta">
        <div>
          <b>İletişime geçelim</b>
          <p>Kuruma uygun modülleri birlikte seçip kısa bir demo kurgulayalım.</p>
          <div class="fine" style="margin-top:10px;">
            Telefon: <b>0850 309 0437</b> • WhatsApp: <b>0540 043 65 63</b>
          </div>
        </div>

        <div class="row">
          <a class="btn primary" href="mailto:info@geokodyazilim.com?subject=GeoBox%20Demo%20Talebi&body=Merhaba%2C%0A%0AKurumumuz%20i%C3%A7in%20GeoBox%20demo%20talep%20ediyoruz.%0A%0AAd%2FSoyad%3A%0AKurum%3A%0ATelefon%3A%0AKullan%C4%B1m%20alan%C4%B1%3A%0A">E-posta</a>
          <a class="btn" href="tel:08503090437">Ara (0850)</a>
          <a class="btn whatsapp" href="https://wa.me/905400436563?text=Merhaba%2C%20GeoBox%20hakk%C4%B1nda%20bilgi%20almak%20istiyorum."
             target="_blank" rel="noopener">WhatsApp</a>
          <a class="btn" href="#top">Başa dön</a>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="wrap" style="display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap;">
      <div class="fine">© <span id="year"></span> GeoBox • GeoKod Geospatial</div>
      <div class="links">
        <a href="#ozellikler">Özellikler</a>
        <a href="#demo">Demo</a>
        <a href="#iletisim">İletişim</a>
      </div>
    </div>
  </footer>

  <script>
    const $ = (q, el=document) => el.querySelector(q);
    const $$ = (q, el=document) => Array.from(el.querySelectorAll(q));
    const logEl = $("#log");

    function log(msg, type="info"){
      if(!logEl) return;
      const ts = new Date().toLocaleTimeString("tr-TR", {hour:"2-digit", minute:"2-digit", second:"2-digit"});
      const badge = type==="ok" ? "✓" : type==="warn" ? "!" : type==="bad" ? "×" : "•";
      logEl.textContent += `[${ts}] ${badge} ${msg}\n`;
      logEl.scrollTop = logEl.scrollHeight;
    }

    $("#year").textContent = new Date().getFullYear();

    // Tema
    let theme = document.documentElement.getAttribute("data-theme") || "light";
    $("#btnTheme").addEventListener("click", () => {
      theme = (theme === "light") ? "dark" : "light";
      document.documentElement.setAttribute("data-theme", theme);
      log(theme === "light" ? "Açık tema etkin." : "Koyu tema etkin.", "ok");
    });

    // Mobil menü
    const mobileMenu = $("#mobileMenu");
    $("#btnMenu").addEventListener("click", () => {
      const open = mobileMenu.style.display === "block";
      mobileMenu.style.display = open ? "none" : "block";
    });
    $$("#mobileMenu a").forEach(a => a.addEventListener("click", () => mobileMenu.style.display="none"));

    // ✅ YUMUŞAK KAYDIRMA (HIZ KONTROLLÜ)
    // - sticky header yüksekliğini hesaba katar
    // - prefers-reduced-motion varsa animasyon yok
    function easeInOutCubic(t){ return t < 0.5 ? 4*t*t*t : 1 - Math.pow(-2*t + 2, 3)/2; }

    function smoothScrollTo(targetY, duration=720){
      const startY = window.scrollY;
      const delta = targetY - startY;
      const start = performance.now();

      function step(now){
        const t = Math.min(1, (now - start) / duration);
        const eased = easeInOutCubic(t);
        window.scrollTo(0, startY + delta * eased);
        if(t < 1) requestAnimationFrame(step);
      }
      requestAnimationFrame(step);
    }

    function getHeaderOffset(){
      const topbar = document.getElementById("topbar");
      return topbar ? topbar.getBoundingClientRect().height + 10 : 80;
    }

    const reduceMotion = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;

    document.addEventListener("click", (e) => {
      const a = e.target.closest('a[href^="#"]');
      if(!a) return;

      const id = a.getAttribute("href");
      if(!id || id === "#") return;

      const el = document.querySelector(id);
      if(!el) return;

      e.preventDefault();
      mobileMenu.style.display = "none";

      const offset = getHeaderOffset();
      const y = el.getBoundingClientRect().top + window.scrollY - offset;

      if(reduceMotion){
        window.scrollTo(0, y);
      }else{
        // biraz daha yavaş/akıcı his için 780ms
        smoothScrollTo(y, 780);
      }
    });

    // Demo init
    log("GeoBox Showcase başlatıldı. Katmanlar aktif.", "ok");
    log("İpucu: / tuşu ile arama alanına odaklan.", "info");

    const layerState = { gas:true, valve:true, parcel:true, work:false };

    function updateHUD(){
      const onCount = Object.values(layerState).filter(Boolean).length;
      $("#hudTitle").textContent = `Katmanlar: ${onCount} açık`;
      $("#hudBadge").textContent = layerState.work ? "İş Emri: Açık" : "Sorgu: Hazır";
    }
    updateHUD();

    $$(".toggle").forEach(t => {
      t.addEventListener("click", () => {
        const key = t.dataset.layer;
        layerState[key] = !layerState[key];
        t.classList.toggle("on", layerState[key]);
        log(`${key} katmanı ${layerState[key] ? "açıldı" : "kapatıldı"}.`, "ok");
        updateHUD();
      });
    });

    const fakeIndex = [
      {id:"PRS-00123", name:"Parsel 123", layer:"parcel", note:"İmar durumu: Konut", x:28, y:38},
      {id:"VNA-014", name:"Vana 14", layer:"valve", note:"Son bakım: 2025-11", x:62, y:44},
      {id:"HAT-A12", name:"Hat A12", layer:"gas", note:"Çap: 90mm PE", x:45, y:72},
      {id:"WRK-88", name:"İş Emri 88", layer:"work", note:"Arıza bildirimi", x:52, y:58},
    ];

    function focusPin(x, y){
      const map = $("#miniMap");
      const p = document.createElement("div");
      p.className = "pin";
      p.style.left = x + "%";
      p.style.top = y + "%";
      p.style.opacity = "0.95";
      map.appendChild(p);
      setTimeout(()=>{ p.style.transition="opacity .35s ease"; p.style.opacity="0"; }, 900);
      setTimeout(()=>{ p.remove(); }, 1400);
    }

    function doSearch(){
      const q = $("#search").value.trim().toLowerCase();
      if(!q){ log("Arama boş. Örn: parsel, vana, 123, iş emri", "warn"); return; }

      log(`Aranıyor: "${q}" ...`, "info");
      const hit = fakeIndex.find(x =>
        x.id.toLowerCase().includes(q) || x.name.toLowerCase().includes(q) || x.note.toLowerCase().includes(q)
      );

      if(!hit){ log("Sonuç bulunamadı. (Simülasyon veri seti sınırlı)", "warn"); return; }
      if(!layerState[hit.layer]){
        log(`Sonuç bulundu ama "${hit.layer}" katmanı kapalı. Katmanı açıp tekrar deneyin.`, "warn");
        return;
      }

      log(`Bulundu: ${hit.id} — ${hit.name} • ${hit.note}`, "ok");
      focusPin(hit.x, hit.y);
      $("#hudBadge").textContent = `Seçim: ${hit.id}`;
    }

    $("#btnSearch").addEventListener("click", doSearch);
    $("#search").addEventListener("keydown", (e)=>{ if(e.key==="Enter") doSearch(); });

    document.addEventListener("keydown", (e)=>{
      if(e.key === "/" && document.activeElement !== $("#search")){
        e.preventDefault();
        $("#search").focus();
      }
    });

    $("#btnFly").addEventListener("click", () => {
      const m = $("#miniMap");
      m.style.transition = "transform .35s ease";
      m.style.transform = "scale(1.03)";
      log("Harita zoom simülasyonu (fly-to).", "ok");
      setTimeout(()=> m.style.transform="scale(1)", 400);
    });

    $("#btnMeasure").addEventListener("click", () => {
      log("Ölçüm modu: 2 nokta seçildi → 184.6 m (simülasyon).", "ok");
      $("#hudBadge").textContent = "Ölçüm: 184.6 m";
    });

    $("#btnExport").addEventListener("click", () => {
      log("Dışa aktar: Seçimler CSV/GeoJSON olarak indirilebilir (simülasyon).", "ok");
      $("#hudBadge").textContent = "Çıktı: Hazır";
    });

    $("#btnScenario").addEventListener("click", () => runScenario("fault"));

    function sleep(ms){ return new Promise(r=>setTimeout(r, ms)); }

    async function runScenario(which){
      if(which==="fault"){
        log("Senaryo: Arıza yönetimi", "info");
        await sleep(450);
        layerState.work = true;
        const t = document.querySelector(`.toggle[data-layer="work"]`);
        if(t) t.classList.add("on");
        log("İş Emri katmanı açıldı.", "ok");
        updateHUD();
        await sleep(500);
        log("Arıza lokasyonu alındı → en yakın vana hesaplanıyor...", "info");
        await sleep(650);
        log("En yakın vana: VNA-014 (mesafe ~92m).", "ok");
        focusPin(62,44);
        await sleep(650);
        log("Görev oluşturuldu → mobil ekibe iletildi (simülasyon).", "ok");
        $("#hudBadge").textContent = "Arıza: Yönetiliyor";
      }
    }

    $("#btnReset").addEventListener("click", ()=>{
      layerState.gas=true; layerState.valve=true; layerState.parcel=true; layerState.work=false;
      document.querySelectorAll(".toggle").forEach(t=>{
        const key=t.dataset.layer;
        t.classList.toggle("on", !!layerState[key]);
      });
      $("#hudBadge").textContent = "Sorgu: Hazır";
      $("#search").value="";
      logEl.textContent="";
      log("Demo sıfırlandı.", "ok");
      updateHUD();
    });

    $("#btnCopy").addEventListener("click", async ()=>{
      try{
        await navigator.clipboard.writeText(logEl.textContent || "");
        log("Log panosu kopyalandı.", "ok");
      }catch{
        log("Kopyalama başarısız. Tarayıcı izinleri engellemiş olabilir.", "warn");
      }
    });
  </script>
</body>
</html>
